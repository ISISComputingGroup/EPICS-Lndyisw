record(bo, "$(P)SIM")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
    field(ZNAM, "NO")
    field(ONAM, "YES")
    field(VAL, "$(RECSIM=0)")
    field(PINI, "YES")
}

record(bo, "$(P)DISABLE")
{
    field(DESC, "Disable comms")
    field(PINI, "YES")
    field(VAL, "$(DISABLE=0)")
    field(OMSL, "supervisory")
    field(ZNAM, "COMMS ENABLED")
    field(ONAM, "COMMS DISABLED")
}

record(stringin, "$(P)SYSTEM")
{
     field(DESC, "description")
     field(DTYP, "Snmp")
     field(SCAN, "2 second")
     field(INP, "@$(HOST) public SNMPv2-MIB::sysDescr.0 STRING: 100 s")
}

record(stringin, "$(P)CONTACT")
{
     field(DESC, "System Contact")
     field(DTYP, "Snmp")
     field(SCAN, "2 second")
     field(INP, "@$(HOST) public RFC1213-MIB::sysContact.0 STRING: 100 s")
}

record(stringout, "$(P)CONTACT:SET")
{
     field(DESC, "System Contact Setter")
     field(DTYP, "Snmp")
     field(OUT, "@$(HOST) public RFC1213-MIB::sysContact.0 STRING: 100 s")
}

record(stringin, "$(P)NAME")
{
     field(DESC, "System Name")
     field(DTYP, "Snmp")
     field(SCAN, "2 second")
     field(INP, "@$(HOST) public RFC1213-MIB::sysName.0 STRING: 100 s")
}

record(stringout, "$(P)NAME:SET")
{
     field(DESC, "System Name Setter")
     field(DTYP, "Snmp")
     field(OUT, "@$(HOST) public RFC1213-MIB::sysName.0 STRING: 100 s")
}

record(stringin, "$(P)LOCATION")
{
     field(DESC, "System Location")
     field(DTYP, "Snmp")
     field(SCAN, "2 second")
     field(INP, "@$(HOST) public RFC1213-MIB::sysLocation.0 STRING: 100 s")
}

record(stringout, "$(P)LOCATION:SET")
{
     field(DESC, "System Location Setter")
     field(DTYP, "Snmp")
     field(OUT, "@$(HOST) public RFC1213-MIB::sysLocation.0 STRING: 100 s")
}

record(stringin, "$(P)UPTIME")
{
     field(DESC, "uptime")
     field(DTYP, "Snmp")
     field(SCAN, "2 second")
     field(INP, "@$(HOST) public DISMAN-EXPRESSION-MIB::sysUpTimeInstance ) 100 s")
}

record(longin, "$(P)UPTIME:SEC")
{
     field(DESC, "uptime")
     field(DTYP, "Snmp")
     field(SCAN, "2 second")
     field(INP, "@$(HOST) public DISMAN-EXPRESSION-MIB::sysUpTimeInstance ( 100 i")
}

record(ai, "$(P)THRESHOLD:WARNING")
{
     field(DESC, "SNMP channel Threshold(Warning)")
     field(DTYP, "Snmp")
	 field(ASLO, "0.1")
	 field(EGU,  "Amp")
     field(SCAN, "2 second")
     field(RVAL, "@$(HOST) public PDU-MIB::pdu01Threshold1.0 INTEGER: 100 iR")
	 field(INP, "@$(HOST) public PDU-MIB::pdu01Threshold1.0 INTEGER: 100 iR")
}

record(longout, "$(P)THRESHOLD:WARNING:SET")
{
     field(DESC, "System Threshold Warning Setter")
     field(DTYP, "Snmp")
     field(OUT, "@$(HOST) public PDU-MIB::pdu01Threshold1.0 INTEGER: 100 i")
}

record(ai, "$(P)THRESHOLD:OVERLOAD")
{
     field(DESC, "SNMP channel Threshold(Overload)")
     field(DTYP, "Snmp")
	 field(ASLO, "0.1")
	 field(EGU,  "Amp")
     field(SCAN, "2 second")
	 field(RVAL, "@$(HOST) public PDU-MIB::pdu01Threshold2.0 INTEGER: 100 iR")
     field(INP, "@$(HOST) public PDU-MIB::pdu01Threshold2.0 INTEGER: 100 iR")
}

record(longout, "$(P)THRESHOLD:OVERLOAD:SET")
{
     field(DESC, "System Threshold Overload Setter")
     field(DTYP, "Snmp")
     field(OUT, "@$(HOST) public PDU-MIB::pdu01Threshold2.0 INTEGER: 100 i")
}

record(longin, "$(P)OUTLET:TCURRENT")
{
     field(DESC, "Overall Current")
     field(DTYP, "Snmp")
     field(SCAN, "2 second")
	 field(ASLO, "0.1")
	 field(EGU,  "Amp")
	 field(RVAL, "@$(HOST) public PDU-MIB::pdu01Value.0 INTEGER: 100 FR")
     field(INP, "@$(HOST) public PDU-MIB::pdu01Value.0 INTEGER: 100 FR")
}

record(waveform, "$(P)OUTLET:_STATUS")
{
     field(DESC, "PSU Outlet Status")
     field(DTYP, "Snmp")
     field(SCAN, "2 second")
     field(INP, "@$(HOST) public PDU-MIB::pdu01OutletStatus.0 STRING: 100 s")
	 field(FTVL, "CHAR")
	 field(NELM, "200")
	 field(FLNK, "$(P)OUTLET:STATUS")
}

record(stringin, "$(P)OUTLET:SEP")
{
    field(VAL, ",\"")
}

record(aSub, "$(P)OUTLET:STATUS")
{
     field(DESC, "PSU Outlet Status")
	 field(SNAM, "splitCharWaveform")
     field(INPA, "$(P)OUTLET:_STATUS")
     field(INPB, "$(P)OUTLET:_STATUS.NORD")
	 field(FTB, "ULONG")
	 field(FTC, "ULONG")
	 field(FTD, "STRING")
	 field(FTE, "ULONG")
	 field(FTA, "CHAR")
	 field(FTVA, "STRING")
	 field(FTVB, "STRING")
	 field(FTVC, "STRING")
	 field(FTVD, "STRING")
	 field(FTVE, "STRING")
	 field(FTVF, "STRING")
	 field(FTVG, "STRING")
	 field(FTVH, "STRING")
	 field(FTVI, "STRING")
	 field(FTVJ, "STRING")
	 field(FTVU, "ULONG")
	 field(NOA, "200")
	 field(INPC, "1")
	 field(INPD, "$(P)OUTLET:SEP")
}

record(waveform, "$(P)OUTLET:_CURRENT")
{
     field(DESC, "PSU Outlet Current value")
     field(DTYP, "Snmp")
     field(SCAN, "2 second")
     field(INP, "@$(HOST) public PDU-MIB::pdu01SubValues.0 STRING: 100 s")
	 field(FTVL, "CHAR")
	 field(NELM, "200")
	 field(FLNK, "$(P)OUTLET:CURRENT")
}

record(aSub, "$(P)OUTLET:CURRENT")
{
     field(DESC, "PSU Outlet CURRENT")
	 field(SNAM, "splitCharWaveform")
     field(INPA, "$(P)OUTLET:_CURRENT")
     field(INPB, "$(P)OUTLET:_CURRENT.NORD")
	 field(FTB, "ULONG")
	 field(FTC, "ULONG")
	 field(FTD, "STRING")
	 field(FTE, "ULONG")
	 field(FTA, "CHAR")
	 field(FTVA, "STRING")
	 field(FTVB, "STRING")
	 field(FTVC, "STRING")
	 field(FTVD, "STRING")
	 field(FTVE, "STRING")
	 field(FTVF, "STRING")
	 field(FTVG, "STRING")
	 field(FTVH, "STRING")
	 field(FTVI, "STRING")
	 field(FTVJ, "STRING")
	 field(FTVU, "ULONG")
	 field(NOA, "200")
	 field(INPC, "1")
	 field(INPD, "$(P)OUTLET:SEP")
}

record(stringout, "$(P)STATUS:ALLSET")
{
     field(DESC, "Sets all the outlet status")
     field(DTYP, "Snmp")
     field(OUT, "@$(HOST) public PDU-MIB::pdu01OutletStatus.0 STRING: 100 s")
}

record(scalcout, "$(P)STATUS:CURRVAL")
{
    field(INAA, "$(P)OUTLET:STATUS.VALB")
	field(INBB, "$(P)OUTLET:STATUS.VALC")
    field(INCC, "$(P)OUTLET:STATUS.VALD")
	field(INDD, "$(P)OUTLET:STATUS.VALE")
    field(INEE, "$(P)OUTLET:STATUS.VALF")
	field(INFF, "$(P)OUTLET:STATUS.VALG")
    field(INGG, "$(P)OUTLET:STATUS.VALH")
	field(INHH, "$(P)OUTLET:STATUS.VALI")
	field(OCAL, "AA+','+BB+','+CC+','+DD+','+EE+','+FF+','+GG+','+HH")
	field(DOPT, "Use OCAL")
    field(CALC, "A:=NINT(I/10-1);B:=I%10;@@A:=PRINTF('%d',B);0")
	field(OUT, "$(P)STATUS:ALLSET PP")
	field(FLNK, "$(P)OUTLET:_STATUS")
}
